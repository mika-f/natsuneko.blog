---
title: 大量の NoUIEntryPoints-DesignMode をどうにかしたい
date: 2016/07/17
basename: 2016/07/17/no-ui-entry-points-design-mode
categories: ["UWP"]
---

そろそろ SSD の整理をしようと思い、設定アプリの「システム」>「ストレージ」から  
アプリの整理をしようとしたら、「NoUIEntryPoints-DesignMode」がめっちゃあったので、  
どうにかする方法のメモ。

---

どんな状態かというと、画像のような状態。

![f:id:MikazukiFuyuno:20160716233454p:plain:h400](https://assets.natsuneko.blog/images/20160716/20160716233454.png "f:id:MikazukiFuyuno:20160716233454p:plain:h400")

私の場合は、これが 100 個くらい並んでた。やばい。  
ベンダー名も UUID になってたり、アイコンも死んでたりでいろいろあれ。

ということでどうにかしたいとおもいます。

こいつの原因は、 VS2015 の XamlDesigner(XDesProc.exe)です。  
しかも、見てる限りだと UWP アプリケーションの模様。

ということで、 VS2015 を起動して、適当に UWP アプリを作って、試してみました。  
結果、全てアンインストールした状態にて以下の動作を行った際に、  
新たに NoUIEntryPoints が追加されました。

- XAML ファイルを開く。

ということで、 UWP の XAML デザイナーということで間違いなさそうです。  
なお、 WPF でも試してみましたが、WPF の場合は追加されることはありませんでした。

次に、実験として、 XAML ビューを開いた状態で、アンインストールを実行すると、

![f:id:MikazukiFuyuno:20160717021948p:plain:w400](https://assets.natsuneko.blog/images/20160717/20160717021948.png "f:id:MikazukiFuyuno:20160717021948p:plain:w400")

といったように、いつものエラーが発生してしまいました。  
ただ、デザイナーの数を増やしたり、 VS を一旦終了し、再度起動させても、  
画像のように増殖するといったことは発生しませんでした。

ということで、増えるタイミングを探してみると、以下のタイミングで増えました。

- `x64` や `x86` などへ構成を変更した時
- デザイナーがクラッシュして、「再度読み込む」をクリックした時

ということで、いっぱいある場合は、上のことに気をつければ良さそうです。  
(2 つめはどうしようもないけれども)

ただ、他の PC でも、 `NoUIEntryPoints-DesignMode` が増殖しているのかどうかは知りませんし、  
もしかしたら私の環境でのみ発生しているのかもしれません。

なお、上記アプリを削除したい場合は、 PowerShell で以下のコマンドレットを実行することで、  
一括削除可能です。

```
Get-AppxPackage -Name ????????-????-????-* | Remove-AppxPackage
```

なお、他のアプリ(例：UWP のサンプルだとか)も削除されることがあるので、  
予め確認してから行ってください。

ところで、この `NoUIEntryPoints-DesignMode` ってなんだ？って調べてみると、  
どうやら開発ツールやテストスイートのために予約されているワードのようです。  
ということは、テスト走らせる時でも増えるかもしれないですね。試してませんが。

ということで、とりあえずは解決？した話でした。  
結論だけ言うと

- `Get-AppxPackage -Name ????????-????-????-* | Remove-AppxPackage` で一括削除すればいい
- たぶん Universal Windows App Development Tools のバグ
- 現状防げない

です。
